(this["webpackJsonpnew-timetable"]=this["webpackJsonpnew-timetable"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r,c=n(9),i=n.n(c),s=n(1),a=n.n(s),l=(n(15),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))}),o=n(2),u=(n(16),n(4)),j=n(5),m=function(){function e(t,n,r,c,i){Object(u.a)(this,e),this.name=t,this.time=n,this.color=r,this.degree=c,this.category=i}return Object(j.a)(e,[{key:"SubjectName",get:function(){return this.name}},{key:"Time",get:function(){return this.time}},{key:"Color",get:function(){return this.color}},{key:"Degree",get:function(){return this.degree}},{key:"Category",get:function(){return this.category}},{key:"ChangeData",value:function(e,t,n,r){this.name=e,this.degree=n,this.color=t,this.category=r}},{key:"ReduceTime",value:function(e){this.time=this.time.filter((function(t){return t!==e}))}},{key:"AddTime",value:function(e){this.time.every((function(t){return t!==e}))&&this.time.push(e)}},{key:"Clone",value:function(){return new e(this.name,this.time,this.color,this.degree,this.category)}}]),e}();!function(e){e[e.None=0]="None",e[e.A=1]="A",e[e.B=2]="B",e[e.C=3]="C",e[e.D=4]="D",e[e.E=5]="E",e[e.F=6]="F",e[e.G=7]="G",e[e["\u5c02\u9580\u305d\u306e\u4ed6"]=8]="\u5c02\u9580\u305d\u306e\u4ed6",e[e["\u82f1\u8a9e"]=9]="\u82f1\u8a9e",e[e["\u57fa\u76e4\u6559\u990a"]=10]="\u57fa\u76e4\u6559\u990a",e[e["\u5c02\u9580\u57fa\u790e"]=11]="\u5c02\u9580\u57fa\u790e",e[e["\u305d\u306e\u4ed6"]=12]="\u305d\u306e\u4ed6"}(r||(r={}));var b="subjects";var h=n(6),d=n(3),O=n(0),g=["\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u65e5"],p={"\u9ec4\u8272":"#FFFF66","\u6c34\u8272":"#99FFFF","\u30d4\u30f3\u30af":"#FFAAFF","\u7dd1\u8272":"#93FFAB","\u9752\u8272":"#75A9FF","\u7070\u8272":"#BBBBBB","\u8d64\u8272":"#FF5190","\u30aa\u30ec\u30f3\u30b8":"#FFCC66","\u7d2b\u8272":"#DCC2FF","\u9ec4\u7dd1\u8272":"#CCFF00"},f={};Object.keys(p).forEach((function(e){f[p[e]]=e}));var x=function(e){var t=Object(s.useContext)(R),n=t.selectedSubject,c=t.setSubject,i=t.TimeTable,a=t.setTimeTable,l=function(){c(Object(d.a)(Object(d.a)({},n),{},{id:n.id,isRegistered:!1,tempName:"",tempDegree:2,tempColor:"",tempCategory:r.None}))},o=function(e){var t=e.target.name,r=e.target.value;"tempCategory"==t&&""===e.target.value&&(r="None"),c(Object(d.a)(Object(d.a)({},n),{},Object(h.a)({},t,r)))};return Object(O.jsxs)("div",{className:"Form",children:[Object(O.jsxs)("h3",{children:[g[n.id%10],"\u66dc\u65e5",Math.floor(n.id/10)+1,"\u9650\u76ee"]}),Object(O.jsxs)("form",{children:[n.isRegistered?null:Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"radio",name:"selectOption",value:"new",onChange:o,checked:"new"===n.selectOption}),"\u65b0\u3057\u304f\u79d1\u76ee\u3092\u4f5c\u6210\u3057\u3066\u767b\u9332",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"radio",value:"existing",name:"selectOption",onChange:o,checked:"existing"===n.selectOption}),"\u65e2\u5b58\u306e\u79d1\u76ee\u3092\u767b\u9332"]}),"existing"===n.selectOption&&!1===n.isRegistered?Object(O.jsxs)("select",{name:"tempName",onChange:o,value:n.tempName,children:[Object(O.jsx)("option",{}),I.GetSubjectList(e.semester).map((function(e){return""!==e.SubjectName?Object(O.jsx)("option",{children:e.SubjectName}):null}))]}):Object(O.jsxs)("table",{className:"FormTable",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"\u6559\u79d1\u540d"},0),Object(O.jsx)("th",{children:Object(O.jsx)("input",{type:"text",value:n.tempName,name:"tempName",onChange:o},"inputName")},1)]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"\u5358\u4f4d"},0),Object(O.jsx)("th",{children:Object(O.jsxs)("select",{value:n.tempDegree,name:"tempDegree",onChange:o,children:[Object(O.jsx)("option",{children:"1"}),Object(O.jsx)("option",{children:"2"}),Object(O.jsx)("option",{children:"3"}),Object(O.jsx)("option",{children:"4"}),Object(O.jsx)("option",{children:"10"})]})},1)]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"\u8272"},0),Object(O.jsx)("th",{children:Object(O.jsxs)("select",{value:n.tempColor,name:"tempColor",onChange:o,children:[Object(O.jsx)("option",{}),Object.keys(p).map((function(e){return Object(O.jsx)("option",{children:e},e)}))]})},1)]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"\u533a\u5206"},0),Object(O.jsx)("th",{children:Object(O.jsx)("select",{value:n.tempCategory,name:"tempCategory",onChange:o,children:I.Categories.map((function(e,t){return""!==e?Object(O.jsx)("option",{children:"None"!==e?e:null},t+1):null}))})},1)]})]})]})]}),n.isRegistered?Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(t){t.preventDefault(),I.ChangeSubject(e.semester,n.id,n.tempName,n.tempColor,n.tempDegree,n.tempCategory),a(I.GetTimeTable(e.semester))},children:"\u5909\u66f4\u3092\u4fdd\u5b58"}),Object(O.jsx)("button",{onClick:function(){I.DeleteSubject(e.semester,n.id),a(I.GetTimeTable(e.semester))},children:"\u524a\u9664"}),Object(O.jsx)("button",{onClick:l,children:"\u30af\u30ea\u30a2"})]}):"new"===n.selectOption?Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){(null==n.tempName||""===n.tempName?(alert("\u79d1\u76ee\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),0):i.some((function(e){return void 0!=e&&null!=e&&e.SubjectName===n.tempName}))?(alert("\u305d\u306e\u79d1\u76ee\u540d\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u65e2\u5b58\u306e\u9805\u76ee\u304b\u3089\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),0):null==n.tempColor||""===n.tempColor?(alert("\u79d1\u76ee\u306e\u8272\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),0):null==n.tempDegree||n.tempDegree<=0?(alert("\u5358\u4f4d\u6570\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"),0):null!=n.tempCategory&&n.tempCategory!=r.None||(alert("\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"),0))&&(I.RegisterSubject(e.semester,n.id,n.tempName,n.tempColor,n.tempDegree,n.tempCategory,!0),a(I.GetTimeTable(e.semester)))},children:"\u65b0\u898f\u767b\u9332"}),Object(O.jsx)("button",{onClick:l,children:"\u30af\u30ea\u30a2"})]}):Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){null!=n.tempName&&""!==n.tempName?(I.RegisterSubject(e.semester,n.id,n.tempName,n.tempColor,n.tempDegree,n.tempCategory,!1),a(I.GetTimeTable(e.semester))):alert("\u767b\u9332\u3059\u308b\u79d1\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093")},children:"\u79d1\u76ee\u3092\u767b\u9332"})})]})},v=new m("",[],"white",2,r.None),C=function(){function e(){var t=this;Object(u.a)(this,e),this.categories=Object.keys(r),this.timeTable=void 0,this.SaveTimeTable=function(){!function(e){var t=JSON.stringify(e.map((function(e){var t=new Array(e.length);return e.map((function(e,n){if(void 0!==e&&!t[n]&&""!==e.SubjectName)return e.Time.forEach((function(e){t[e]=!0})),{time:e.Time,name:e.SubjectName,color:e.Color,degree:e.Degree,category:e.Category}})).filter((function(e){return null!=e}))})).filter((function(e){return null!=e})));localStorage.setItem(b,t)}(t.timeTable)},this.timeTable=function(){for(var e,t=new Array(8),n=0;n<t.length;n++)t[n]=new Array;var r=null!==(e=localStorage.getItem(b))&&void 0!==e?e:"null",c=JSON.parse(r);return null===c||void 0===c||c.forEach((function(e,n){var r=new Array(60);r=r.map((function(e){return!1})),e.length>0&&e.forEach((function(e){var c=new m(e.name,e.time,e.color,e.degree,e.category);c.Time.forEach((function(e){t[n][e]=c,r[e]=!0}))}))})),t}()}return Object(j.a)(e,[{key:"Categories",get:function(){return this.categories.filter((function(e){return"number"===typeof r[e]}))}},{key:"GetSubjectList",value:function(e){var t=new Array(this.timeTable.length);return this.timeTable[e-1].filter((function(e,n){var r;return void 0!==e&&null!==e&&(!t[n]&&(null===e||void 0===e||null===(r=e.Time)||void 0===r||r.forEach((function(e){return t[e]=!0})),!0))}))}},{key:"CountDegree",value:function(e,t){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0];switch(t){case"all":for(var r=1;r<=8;r++)n=this.CountSemesterDegree(r,n);break;case"semester":n=this.CountSemesterDegree(e,n);break;case"gotten":for(var c=1;c<e;c++)n=this.CountSemesterDegree(c,n)}return n}},{key:"CountSemesterDegree",value:function(e,t){var n=new Array(this.timeTable[e-1].length);return n=n.map((function(e){return!1})),this.timeTable[e-1].forEach((function(e,c){if(null!=e&&void 0!=e&&!n[c]&&""!==e.SubjectName){e.Time.forEach((function(e){n[e]=!0}));var i=r[e.Category];t[parseInt(i)]+=Number(e.Degree),parseInt(i)<=r.\u5c02\u9580\u305d\u306e\u4ed6&&(t[t.length-1]=Number(t[t.length-1])+Number(e.Degree))}})),t}},{key:"GetTimeTable",value:function(e){return this.timeTable[e-1].slice(0,this.timeTable[e-1].length)}},{key:"DeleteSubject",value:function(e,t){this.timeTable[e-1][t].Time.length>1&&this.timeTable[e-1][t].ReduceTime(t),this.timeTable[e-1][t]=v}},{key:"ChangeSubject",value:function(e,t,n,r,c,i){this.timeTable[e-1][t].Time.length>1?!0===window.confirm("\u540c\u3058\u6388\u696d\u306e\u4ed6\u306e\u6642\u9593\u306e\u30c7\u30fc\u30bf\u3082\u5909\u66f4\u3057\u307e\u3059\u304b\uff1f")?this.timeTable[e-1][t].ChangeData(n,p[r],c,i):(this.timeTable[e-1][t].ReduceTime(t),this.timeTable[e-1][t]=new m(n,[t],p[r],c,i)):this.timeTable[e-1][t].ChangeData(n,p[r],c,i)}},{key:"RegisterSubject",value:function(e,t,n,r,c,i,s){if(s){this.timeTable[e-1][t]=new m(n,[t],p[r],c,i),this.timeTable.forEach((function(e){return console.log(e[t])}))}else{var a=this.timeTable[e-1].find((function(e){return void 0!=e&&e.SubjectName===n}));null===a||void 0===a||a.AddTime(t),void 0!=a&&(this.timeTable[e-1][t]=a)}this.SaveTimeTable()}}]),e}(),T=function(e){var t,n,r={background:void 0===e.subject?"white":null===(t=e.subject)||void 0===t?void 0:t.Color,height:150};return Object(O.jsx)("div",{className:"Cell",style:r,children:void 0===e.subject?"":null===(n=e.subject)||void 0===n?void 0:n.SubjectName})},y=new m("",[],"",2,r.None),N=[1,2,3,4,5,6],S=["","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u65e5"],k=function(e){var t=Object(s.useContext)(R),n=(t.selectedSubject,t.setSubject),r=t.TimeTable,c=t.setTimeTable,i=Object(s.useContext)(G),a=i.Semester,l=i.setSemester;Object(s.useEffect)((function(){return c(I.GetTimeTable(e.semester))}),[a,l]);var o=function(e){var t=e.currentTarget.dataset.id,c=parseInt(t,10);void 0!=r[c]&&""!==r[c].SubjectName?n({id:c,isRegistered:!0,tempColor:f[r[c].Color],tempName:r[c].SubjectName,tempDegree:r[c].Degree,tempCategory:r[c].Category,selectOption:"new",canEdit:!1}):n({id:c,isRegistered:!1,tempColor:"",tempName:y.SubjectName,tempDegree:y.Degree,tempCategory:y.Category,selectOption:"new",canEdit:!0})};return Object(O.jsxs)("table",{className:"TimeTable",children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{children:S.map((function(e,t){return Object(O.jsx)("th",{children:e},t)}))})}),Object(O.jsx)("tbody",{children:N.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:e},0),S.map((function(e,n){return n===S.length-1?null:Object(O.jsx)("th",{"data-id":10*t+n,onClick:o,children:Object(O.jsx)(T,{subject:r[10*t+n]})},n+1)}))]},t)}))})]})},F=function(e){var t=a.a.useState("all"),n=Object(o.a)(t,2),c=n[0],i=n[1],s=I.CountDegree(e.semester,c),l=function(e){i(e.target.name)};switch(c){case"all":document.documentElement.style.setProperty("--counter-color","#B384FF");break;case"semester":document.documentElement.style.setProperty("--counter-color","#FF82B2");break;case"gotten":document.documentElement.style.setProperty("--counter-color","#5BFF7F")}return Object(O.jsxs)("div",{className:"tabs",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:"tab",type:"radio",name:"all",id:"all",checked:"all"===c,onChange:l}),Object(O.jsx)("label",{htmlFor:"all",className:"tab_item",children:"\u5408\u8a08"}),Object(O.jsx)("input",{className:"tab",id:"semester",type:"radio",name:"semester",checked:"semester"===c,onChange:l}),Object(O.jsx)("label",{htmlFor:"semester",className:"tab_item",children:"\u4eca\u5b66\u671f"}),Object(O.jsx)("input",{className:"tab",id:"gotten",type:"radio",name:"gotten",checked:"gotten"===c,onChange:l}),Object(O.jsx)("label",{htmlFor:"gotten",className:"tab_item",children:"\u524d\u5b66\u671f\u307e\u3067"})]}),Object(O.jsx)("div",{className:"tab_content",children:Object(O.jsxs)("table",{className:"DegreeCounter",children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{children:s.map((function(e,t){return t>0?Object(O.jsx)("th",{children:t!==s.length-1?r[t]:"\u5c02\u9580\u5408\u8a08"},t):null}))})}),Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:s.map((function(e,t){return t>0?Object(O.jsx)("th",{children:e},t):null}))})})]})})]})},D=[1,2,3,4,5,6,7,8],w={background:"#5ab4bd",color:"black"},E={backgroud:"#d9d9d9",color:"#565656"},A=function(){var e=Object(s.useContext)(G),t=e.Semester,n=e.setSemester,r=function(e){n(parseInt(e.target.value))};return Object(O.jsxs)("div",{children:[D.map((function(e){return Object(O.jsx)("input",{type:"radio",checked:e===t,value:e,id:e.toString(),className:"tab",onChange:r},e)})),D.map((function(e){return Object(O.jsxs)("label",{htmlFor:e.toString(),className:"semester_tab_item",style:e==t?w:E,children:[e,"\u30bb\u30e1"]},e)}))]})},B=function(){return Object(O.jsxs)("div",{className:"TitleContainer",children:[Object(O.jsx)("h1",{children:"\u962a\u5927\u5358\u4f4d\u8a08\u7b97\u6642\u9593\u5272\u30a2\u30d7\u30ea"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"\u6642\u9593\u5272\u306b\u79d1\u76ee\u3092\u767b\u9332\u3059\u308b\u3053\u3068\u3067\u3001\u81ea\u52d5\u3067\u5358\u4f4d\u3092\u8a08\u7b97\u3057\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u30a2\u30d7\u30ea\u3067\u3059\u3002"}),Object(O.jsxs)("p",{children:["\u3053\u306e\u30a2\u30d7\u30ea\u306e\u5229\u7528\u8005\u306f\u962a\u5927\u751f\u3092\u60f3\u5b9a\u3057\u3066\u304a\u308a\u307e\u3059\u3002",Object(O.jsx)("br",{}),"\u96c6\u4e2d\u8b1b\u7fa9\u306b\u306f\u307e\u3060\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u307e\u305b\u3093\u3002",Object(O.jsx)("br",{}),"\u307e\u305f\u843d\u5358\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u307e\u305b\u3093\u3002(\u843d\u5358\u3059\u308b\u4eba\u306a\u3093\u3066\u3044\u306a\u3044\u3067\u3059\u3088\u306d\uff1f)"]}),Object(O.jsx)("p",{children:Object(O.jsxs)("strong",{children:["\u672c\u30b7\u30b9\u30c6\u30e0\u306e\u5229\u7528\u306b\u4f34\u3044\u3001\u76f4\u63a5\u7684\u306a\u3044\u3057\u306f\u9593\u63a5\u7684\u306b\u751f\u3058\u305f\u640d\u5931\u7b49\u306b\u5bfe\u3057\u3001\u672c\u30b7\u30b9\u30c6\u30e0\u53ca\u3073\u88fd\u4f5c\u8005\u306f\u8cac\u4efb\u3092\u8ca0\u3044\u307e\u305b\u3093\u3002",Object(O.jsx)("br",{}),"\u672c\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3057\u305f\u3053\u3068\u306b\u3088\u308a\u751f\u3058\u308b\u7d50\u679c\u306f\u5168\u3066\u4f7f\u7528\u8005\u81ea\u8eab\u306e\u8cac\u4efb\u3068\u8ca0\u62c5\u3068\u306a\u308a\u307e\u3059\u3002",Object(O.jsx)("br",{}),"\u81ea\u5df1\u8cac\u4efb\u3067\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"]})}),Object(O.jsx)("p",{children:"\u5358\u4f4d\u306e\u8a08\u7b97\u306f\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u884c\u308f\u308c\u3001\u5229\u7528\u8005\u69d8\u306e\u60c5\u5831\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3055\u308c\u308b\u3053\u3068\u306f\u3054\u3056\u3044\u307e\u305b\u3093\u3002"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"\u3054\u9023\u7d61\u30fb\u3054\u8cea\u554f\u30fb\u4e0d\u5177\u5408\u5831\u544a\u7b49\u306fTwitter(@kakikaki85)\u307e\u305f\u306fMail(u097498f[at]ecs.osaka-u.ac.jp)\u307e\u3067\u304a\u9858\u3044\u3057\u307e\u3059\u3002"})})]})},R=a.a.createContext({}),G=a.a.createContext({}),I=new C;window.addEventListener("beforeunload",(function(e){I.SaveTimeTable()}));var P=function(){var e=Object(s.useState)(1),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(I.GetTimeTable(n)),a=Object(o.a)(i,2),l=a[0],u=a[1],j=l.length>0&&null!=l[0]&&""!==l[0].SubjectName,m=Object(s.useState)({id:0,isRegistered:j,tempColor:"",tempName:"",tempDegree:2,tempCategory:r.None,selectOption:"new",canEdit:!0}),b=Object(o.a)(m,2),h={selectedSubject:b[0],setSubject:b[1],TimeTable:l,setTimeTable:u};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(B,{}),Object(O.jsx)(R.Provider,{value:h,children:Object(O.jsxs)(G.Provider,{value:{Semester:n,setSemester:c},children:[Object(O.jsxs)("div",{className:"TableContainer",children:[Object(O.jsx)(A,{}),Object(O.jsx)(k,{semester:n})]}),Object(O.jsxs)("div",{className:"FormContainer",children:[Object(O.jsx)(x,{semester:n}),Object(O.jsx)(F,{subject:l,semester:n})]})]})})]})},_=n(10);i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(_.a,{basename:"/React-TimeTableSoftware",children:Object(O.jsx)(P,{})})}),document.getElementById("root")),l()}},[[18,1,2]]]);
//# sourceMappingURL=main.25e49f7c.chunk.js.map